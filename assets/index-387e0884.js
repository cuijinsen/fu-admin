var e=(e,t,s)=>new Promise(((o,i)=>{var n=e=>{try{a(s.next(e))}catch(t){i(t)}},r=e=>{try{a(s.throw(e))}catch(t){i(t)}},a=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,r);a((s=s.apply(e,t)).next())}));import{a as t,s,bs as o,aF as i,bT as n,o as r,f as a,m as d,y as c,w as m,i as l,z as p,h as u,t as f,f6 as j,j as y,E as b}from"./index-d32d699d.js";import{T as x}from"./index-280a19eb.js";import{u as h,B as g}from"./useTable-ba3fb261.js";import{T as P}from"./useForm-39f6e704.js";import{u as _}from"./index-b361c612.js";import{c as w,s as C,_ as v}from"./FormModal.vue_vue_type_script_setup_true_lang-3450e6f5.js";import{f as S,r as F,b as I}from"./sysPostApi-f832c107.js";import{s as k}from"./index-2e5c6a76.js";import{a as O}from"./download-29600a9b.js";import"./index-428eee78.js";import"./eagerComputed-b16e681c.js";import"./css-49036a2d.js";import"./fromPairs-c5e23fef.js";import"./iconUtil-b885d1ac.js";import"./index-22735145.js";import"./index-e84e313c.js";import"./createForOfIteratorHelper-19a6e609.js";import"./index-da1a1de3.js";import"./index-64da741e.js";import"./scrollTo-7d931d9a.js";import"./index-ceb1e509.js";import"./index-e9d5eda1.js";import"./index-2887dac0.js";import"./useSize-e28be3fa.js";import"./useWindowSizeFn-6acabc85.js";import"./useContentViewHeight-295eef1a.js";import"./ArrowLeftOutlined-f42bc447.js";import"./index-9c0d62a6.js";import"./transButton-c20bc4d9.js";import"./index-706c8391.js";import"./index-bf8f159c.js";import"./index-ee500efb.js";import"./get-8e454bdf.js";import"./index-b4d18824.js";import"./sortable.esm-871e648d.js";import"./RedoOutlined-481f10d7.js";import"./FullscreenOutlined-091fbcf5.js";import"./index-a72363e5.js";import"./index-f7867750.js";import"./index-6cd0fcd2.js";import"./index-06c8a48f.js";import"./index-cd646f4b.js";import"./_baseIteratee-b178d67d.js";import"./index-fe305bf5.js";import"./index-476a8598.js";import"./useRefs-b0536d84.js";import"./index-406c2228.js";import"./index-8e2feec8.js";import"./uniqBy-19fec0f2.js";const R=t({__name:"index",setup(t){const R=s([]);o((()=>e(this,null,(function*(){R.value=yield k({dictCode:"sys_status"})}))));const{createMessage:T,createConfirm:B}=b(),[U,{openModal:z}]=_(),[M,{reload:A,getForm:E}]=h({title:"岗位列表 ",api:S,rowKey:"id",columns:w,formConfig:{baseColProps:{sm:24,lg:6},labelWidth:90,schemas:C,autoSubmitOnEnter:!0,resetButtonOptions:{preIcon:"ant-design:delete-outlined"},submitButtonOptions:{preIcon:"ant-design:search-outlined"}},showIndexColumn:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,actionColumn:{auth:["system:sysPost:updateSysPost","system:sysPost:removeSysPost"],width:80,title:"操作",dataIndex:"action"}});function H(){z(!0,{isUpdate:!1})}function V(e){z(!0,{record:e,isUpdate:!0})}function W(t){return e(this,null,(function*(){yield F({ids:t.id}),T.success("删除成功！"),yield A()}))}function q(){return e(this,null,(function*(){B({iconType:"warning",title:"提示",content:"确认导出？",onOk:()=>e(this,null,(function*(){const e=E().getFieldsValue(),t=yield I(e),s=t.data,o=t.headers["content-disposition"].split(";")[1].split("=")[1],i=decodeURIComponent(escape(o));O(s,i)}))})}))}function K(t){return e(this,arguments,(function*({isUpdate:e,values:t}){yield A()}))}return(e,t)=>{const s=i("a-button"),o=n("auth");return r(),a("div",null,[d(u(g),{onRegister:u(M)},{toolbar:c((()=>[m((r(),l(s,{type:"primary",onClick:H,preIcon:"ant-design:plus-outlined"},{default:c((()=>[p("新增")])),_:1})),[[o,["system:sysPost:addSysPost"]]]),m((r(),l(s,{color:"warning",onClick:q,preIcon:"ant-design:download-outlined"},{default:c((()=>[p("导出")])),_:1})),[[o,["system:sysPost:exportSysPost"]]])])),bodyCell:c((({column:e,record:t})=>["status"===e.key?(r(),l(u(x),{key:0,color:"0"===t.status?"processing":"error"},{default:c((()=>[p(f(u(j)(R.value,t.status)),1)])),_:2},1032,["color"])):y("",!0),"action"===e.key?(r(),l(u(P),{key:1,actions:[{auth:["system:sysPost:updateSysPost"],icon:"clarity:note-edit-line",tooltip:"编辑",onClick:V.bind(null,t)},{auth:["system:sysPost:removeSysPost"],icon:"ant-design:delete-outlined",tooltip:"删除",color:"error",popConfirm:{title:"是否确认删除",confirm:W.bind(null,t)}}]},null,8,["actions"])):y("",!0)])),_:1},8,["onRegister"]),d(v,{onRegister:u(U),onSuccess:K},null,8,["onRegister"])])}}});export{R as default};
