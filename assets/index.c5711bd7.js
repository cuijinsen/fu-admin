var Ce=Object.defineProperty,$e=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable;var ae=(e,t,o)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,W=(e,t)=>{for(var o in t||(t={}))_e.call(t,o)&&ae(e,o,t[o]);if(te)for(var o of te(t))ke.call(t,o)&&ae(e,o,t[o]);return e},ne=(e,t)=>$e(e,He(t));var oe=(e,t,o)=>new Promise((h,n)=>{var y=g=>{try{c(o.next(g))}catch($){n($)}},v=g=>{try{c(o.throw(g))}catch($){n($)}},c=g=>g.done?h(g.value):Promise.resolve(g.value).then(y,v);c((o=o.apply(e,t)).next())});import{n as m,r as Pe,a as L,v as A,O as de,S as Be,_ as x,c4 as re,V as Fe,K as we,cv as Se,f as w,R as Re,T as Te,U as J,cj as Ae,H as R,al as Ee,cw as Oe,cx as Ie,ay as fe,b as ve,ba as xe,o as N,h as X,m as Z,aE as T,q as z,bo as ge,an as M,cy as je,a9 as pe,i as S,cz as De,cA as Ne,aJ as ze,cB as We,aI as P,a6 as Ke,aq as ie,aA as le,j as se,aC as Me,aD as Le,z as K,aF as Ve,aG as Ue,F as qe,B as Ge,t as Je,aB as Xe,k as ce,aH as he}from"./index.7f67491a.js";import{B as Ze}from"./index.f7e77d68.js";import{A as Qe}from"./index.2d5e9d07.js";import{u as Ye}from"./useWindowSizeFn.8bbcad12.js";import{a as et}from"./useContentViewHeight.0f7f785e.js";import{A as tt}from"./ArrowLeftOutlined.3ff00aee.js";import"./index.a6d90cc9.js";var at={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},nt=at;function ue(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?Object(arguments[t]):{},h=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(o).filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable}))),h.forEach(function(n){ot(e,n,o[n])})}return e}function ot(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Q=function(t,o){var h=ue({},t,o.attrs);return m(Pe,ue({},h,{icon:nt}),null)};Q.displayName="ArrowRightOutlined";Q.inheritAttrs=!1;var rt=Q,it=["noStyle","disabled"],lt={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},st=L({compatConfig:{MODE:3},name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup:function(t,o){var h=o.slots,n=o.emit,y=o.attrs,v=o.expose,c=A(),g=function(l){var C=l.keyCode;C===re.ENTER&&l.preventDefault()},$=function(l){var C=l.keyCode;C===re.ENTER&&n("click",l)},E=function(l){n("click",l)},k=function(){c.value&&c.value.focus()},B=function(){c.value&&c.value.blur()};return de(function(){t.autofocus&&k()}),v({focus:k,blur:B}),function(){var b,l=t.noStyle,C=t.disabled,H=Be(t,it),p={};return l||(p=x({},lt)),C&&(p.pointerEvents="none"),m("div",x(x(x({role:"button",tabindex:0,ref:c},H),y),{},{onClick:E,onKeydown:g,onKeyup:$,style:x(x({},p),y.style||{})}),[(b=h.default)===null||b===void 0?void 0:b.call(h)])}}}),ct=st,ut=function(){return{backIcon:R.any,prefixCls:String,title:R.any,subTitle:R.any,breadcrumb:R.object,tags:R.any,footer:R.any,extra:R.any,avatar:R.object,ghost:{type:Boolean,default:void 0},onBack:Function}},dt=L({compatConfig:{MODE:3},name:"APageHeader",props:ut(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(t,o){var h=o.emit,n=o.slots,y=we("page-header",t),v=y.prefixCls,c=y.direction,g=y.pageHeader,$=A(!1),E=Se(),k=function(a){var r=a.width;E.value||($.value=r<768)},B=w(function(){var s,a,r;return(s=(a=t.ghost)!==null&&a!==void 0?a:(r=g.value)===null||r===void 0?void 0:r.ghost)!==null&&s!==void 0?s:!0}),b=function(){var a,r,f;return(a=(r=t.backIcon)!==null&&r!==void 0?r:(f=n.backIcon)===null||f===void 0?void 0:f.call(n))!==null&&a!==void 0?a:c.value==="rtl"?m(rt,null,null):m(tt,null,null)},l=function(a){return!a||!t.onBack?null:m(Ie,{componentName:"PageHeader",children:function(f){var i=f.back;return m("div",{class:"".concat(v.value,"-back")},[m(ct,{onClick:function(d){h("back",d)},class:"".concat(v.value,"-back-button"),"aria-label":i},{default:function(){return[a]}})])}},null)},C=function(){var a;return t.breadcrumb?m(Ze,t.breadcrumb,null):(a=n.breadcrumb)===null||a===void 0?void 0:a.call(n)},H=function(){var a,r,f,i,u,d,F,O,V,U=t.avatar,j=(a=t.title)!==null&&a!==void 0?a:(r=n.title)===null||r===void 0?void 0:r.call(n),D=(f=t.subTitle)!==null&&f!==void 0?f:(i=n.subTitle)===null||i===void 0?void 0:i.call(n),q=(u=t.tags)!==null&&u!==void 0?u:(d=n.tags)===null||d===void 0?void 0:d.call(n),G=(F=t.extra)!==null&&F!==void 0?F:(O=n.extra)===null||O===void 0?void 0:O.call(n),I="".concat(v.value,"-heading"),Y=j||D||q||G;if(!Y)return null;var be=b(),ee=l(be),ye=ee||U||Y;return m("div",{class:I},[ye&&m("div",{class:"".concat(I,"-left")},[ee,U?m(Qe,U,null):(V=n.avatar)===null||V===void 0?void 0:V.call(n),j&&m("span",{class:"".concat(I,"-title"),title:typeof j=="string"?j:void 0},[j]),D&&m("span",{class:"".concat(I,"-sub-title"),title:typeof D=="string"?D:void 0},[D]),q&&m("span",{class:"".concat(I,"-tags")},[q])]),G&&m("span",{class:"".concat(I,"-extra")},[G])])},p=function(){var a,r,f=(a=t.footer)!==null&&a!==void 0?a:Ee((r=n.footer)===null||r===void 0?void 0:r.call(n));return Oe(f)?null:m("div",{class:"".concat(v.value,"-footer")},[f])},_=function(a){return m("div",{class:"".concat(v.value,"-content")},[a])};return function(){var s,a,r,f=((s=t.breadcrumb)===null||s===void 0?void 0:s.routes)||n.breadcrumb,i=t.footer||n.footer,u=Re((a=n.default)===null||a===void 0?void 0:a.call(n)),d=Te(v.value,(r={"has-breadcrumb":f,"has-footer":i},J(r,"".concat(v.value,"-ghost"),B.value),J(r,"".concat(v.value,"-rtl"),c.value==="rtl"),J(r,"".concat(v.value,"-compact"),$.value),r));return m(Ae,{onResize:k},{default:function(){return[m("div",{class:d},[C(),H(),u.length?_(u):null,p()])]}})}}}),ft=Fe(dt);const vt=L({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=ve("page-footer"),{getCalcContentWidth:t}=xe();return{prefixCls:e,getCalcContentWidth:t}}});function gt(e,t,o,h,n,y){return N(),X("div",{class:z(e.prefixCls),style:ge({width:e.getCalcContentWidth})},[Z("div",{class:z(`${e.prefixCls}__left`)},[T(e.$slots,"left",{},void 0,!0)],2),T(e.$slots,"default",{},void 0,!0),Z("div",{class:z(`${e.prefixCls}__right`)},[T(e.$slots,"right",{},void 0,!0)],2)],6)}var me=fe(vt,[["render",gt],["__scopeId","data-v-7984b8f2"]]);function pt(e){let t;de(()=>{e(),M(()=>{t=!0})}),je(()=>{t&&e()})}function ht(e,t,o,h,n=0,y=A(0)){const v=A(null),{footerHeightRef:c}=et();let g={useLayoutFooter:!0};const $=l=>{g=l};function E(){M(()=>{b()})}function k(l,C="all"){var s,a,r,f;function H(i){return Number(i.replace(/[^\d]/g,""))}let p=0;const _="0px";if(l){const i=getComputedStyle(l),u=H((s=i==null?void 0:i.marginTop)!=null?s:_),d=H((a=i==null?void 0:i.marginBottom)!=null?a:_),F=H((r=i==null?void 0:i.paddingTop)!=null?r:_),O=H((f=i==null?void 0:i.paddingBottom)!=null?f:_);C==="all"?(p+=u,p+=d,p+=F,p+=O):C==="top"?(p+=u,p+=F):(p+=d,p+=O)}return p}function B(l){return l==null?null:l instanceof HTMLDivElement?l:l.$el}function b(){return oe(this,null,function*(){var f;if(!e.value)return;yield M();const l=B(S(t));if(!l)return;const{bottomIncludeBody:C}=De(l);let H=0;o.forEach(i=>{var u,d;H+=(d=(u=B(S(i)))==null?void 0:u.offsetHeight)!=null?d:0});let p=(f=k(l))!=null?f:0;h.forEach(i=>{p+=k(B(S(i)))});let _=0;function s(i,u){if(i&&u){const d=i.parentElement;d&&(ze(u)?d.classList.contains(u)?_+=k(d,"bottom"):(_+=k(d,"bottom"),s(d,u)):We(u)&&u>0&&(_+=k(d,"bottom"),s(d,--u)))}}Ne(n)?s(l,S(n)):s(l,n);let a=C-S(c)-S(y)-H-p-_;const r=()=>{var i;(i=g.elements)==null||i.forEach(u=>{var d,F;a+=(F=(d=B(S(u)))==null?void 0:d.offsetHeight)!=null?F:0})};g.useLayoutFooter&&S(c)>0,r(),v.value=a})}return pt(()=>{M(()=>{b()})}),Ye(()=>{b()},50,{immediate:!0}),pe(()=>[c.value],()=>{b()},{flush:"post",immediate:!0}),{redoHeight:E,setCompensation:$,contentHeight:v}}const mt=L({name:"PageWrapper",components:{PageFooter:me,PageHeader:ft},inheritAttrs:!1,props:{title:P.string,dense:P.bool,ghost:P.bool,content:P.string,contentStyle:{type:Object},contentBackground:P.bool,contentFullHeight:P.bool,contentClass:P.string,fixedHeight:P.bool,upwardSpace:P.oneOfType([P.number,P.string]).def(0)},setup(e,{slots:t,attrs:o}){const h=A(null),n=A(null),y=A(null),v=A(null),{prefixCls:c}=ve("page-wrapper");Ke(Ct,w(()=>e.fixedHeight));const g=w(()=>e.contentFullHeight),$=w(()=>e.upwardSpace),{redoHeight:E,setCompensation:k,contentHeight:B}=ht(g,h,[n,v],[y],$);k({useLayoutFooter:!0,elements:[v]});const b=w(()=>{var s;return[c,{[`${c}--dense`]:e.dense},(s=o.class)!=null?s:{}]}),l=w(()=>e.content||(t==null?void 0:t.headerContent)||e.title||H.value.length),C=w(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),H=w(()=>Object.keys(ie(t,"default","leftFooter","rightFooter","headerContent"))),p=w(()=>{const{contentFullHeight:s,contentStyle:a,fixedHeight:r}=e;if(!s)return W({},a);const f=`${S(B)}px`;return W(ne(W({},a),{minHeight:f}),r?{height:f}:{})}),_=w(()=>{const{contentBackground:s,contentClass:a}=e;return[`${c}-content`,a,{[`${c}-content-bg`]:s}]});return pe(()=>[C.value],()=>{E()},{flush:"post",immediate:!0}),{getContentStyle:p,wrapperRef:h,headerRef:n,contentRef:y,footerRef:v,getClass:b,getHeaderSlots:H,prefixCls:c,getShowHeader:l,getShowFooter:C,omit:ie,getContentClass:_}}});function bt(e,t,o,h,n,y){const v=le("PageHeader"),c=le("PageFooter");return N(),X("div",{class:z(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(N(),se(v,Xe({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),Me({default:K(()=>[e.content?(N(),X(qe,{key:0},[Ge(Je(e.content),1)],64)):T(e.$slots,"headerContent",{key:1})]),_:2},[Le(e.getHeaderSlots,g=>({name:g,fn:K($=>[T(e.$slots,g,Ve(Ue($||{})))])}))]),1040,["ghost","title"])):ce("",!0),Z("div",{class:z(["overflow-hidden",e.getContentClass]),style:ge(e.getContentStyle),ref:"contentRef"},[T(e.$slots,"default")],6),e.getShowFooter?(N(),se(c,{key:1,ref:"footerRef"},{left:K(()=>[T(e.$slots,"leftFooter")]),right:K(()=>[T(e.$slots,"rightFooter")]),_:3},512)):ce("",!0)],2)}var yt=fe(mt,[["render",bt]]);he(me);const St=he(yt),Ct="PageWrapperFixedHeight";export{St as P,ct as T,Ct as a,pt as o};
