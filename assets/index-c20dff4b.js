var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,d=(t,l,i)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[l]=i,o=(e,t,l)=>new Promise(((i,a)=>{var r=e=>{try{o(l.next(e))}catch(t){a(t)}},d=e=>{try{o(l.throw(e))}catch(t){a(t)}},o=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,d);o((l=l.apply(e,t)).next())}));import{s as n}from"./sysAreaApi-e41d1f2f.js";import{d as u,g as s,s as m}from"./sysDeptApi-2c1e26d4.js";import{a as c,s as f,bs as p,v,r as b,aF as y,o as h,f as g,m as C,y as V,F as _,aI as w,i as k,aG as x}from"./index-d32d699d.js";const O=[{type:"checkbox"},{type:"seq",minWidth:60,title:"序号"},{title:"id",field:"id",minWidth:80,visible:!1},{title:"parentId",field:"parentId",minWidth:80,visible:!1},{title:"店铺id",field:"deptId",minWidth:80,visible:!1},{title:"品牌名",field:"brand",minWidth:80},{title:"省份",field:"province",minWidth:80},{title:"城市",field:"city",minWidth:80},{title:"地区",field:"district",minWidth:80,editRender:{}}],j=[{field:"id",title:"品牌名",itemRender:{},editRender:{},slots:{default:"name_item"}},{field:"province",title:"省份",itemRender:{},editRender:{},slots:{default:"province_item"}},{field:"city",title:"城市",itemRender:{},editRender:{},slots:{default:"city_item"}},{field:"district",title:"区域",itemRender:{},editRender:{},slots:{default:"district_item"}},{itemRender:{},slots:{default:"submit_item"}},{itemRender:{},slots:{default:"reset_item"}}],R=c((U=((e,t)=>{for(var l in t||(t={}))a.call(t,l)&&d(e,l,t[l]);if(i)for(var l of i(t))r.call(t,l)&&d(e,l,t[l]);return e})({},{name:"SelectOpen"}),t(U,l({setup(e){const t=f(),l=f([]),i=f([]),a=f([]),r=f([]);p((()=>o(this,null,(function*(){l.value=yield n({parentCode:"0"}),r.value=yield u({}),yield function(){return o(this,null,(function*(){"1406955981362733058"==b().getUserInfo.deptId&&(c.value=yield m().then((e=>e.map((e=>({id:e.id,label:e.name,title:e.name,value:e.id,key:e.id,pId:e.parentId}))))))}))}()}))));const d=v({border:!0,keepSource:!0,height:800,columnConfig:{resizable:!0},rowConfig:{keyField:"id"},treeConfig:{transform:!0,rowField:"id",parentField:"parentId"},checkboxConfig:{reserve:!0},showOverflow:!0,showHeaderOverflow:!0,formConfig:{titleWidth:150,titleAlign:"right",items:j},align:"center",toolbarConfig:{refresh:!0,zoom:!0,custom:!0},pagerConfig:{pageSize:10,pageSizes:[5,10,20,50,100,200,500,1e3]},sortConfig:{trigger:"cell",remote:!0,defaultSort:{field:"district",order:"desc"}},filterConfig:{remote:!0},proxyConfig:{seq:!0,sort:!0,filter:!0,form:!0,props:{result:"records",total:"total"},ajax:{query:({page:e,sorts:t,filters:l,form:i})=>{const a=Object.assign({current:e.currentPage,size:e.pageSize},i),r=null==t?void 0:t[0];return r&&(a.field=r.field,a.order=r.order),(null==l?void 0:l.length)>0&&l.forEach((({field:e,values:t})=>{a[e]=t.join(",")})),s(a)}}},columns:O,editConfig:{trigger:"click",mode:"row",showStatus:!0}}),c=f();function R(e){return o(this,null,(function*(){i.value=yield n({parentCode:e.value})}))}function U(e){return o(this,null,(function*(){a.value=yield n({parentCode:e.value})}))}function I(e){return o(this,null,(function*(){a.value=yield n({parentCode:e.value.substring(0,4)+"00"})}))}return(e,o)=>{const n=y("vxe-option"),u=y("vxe-select"),s=y("vxe-button"),m=y("vxe-grid");return h(),g("div",null,[C(m,x({ref_key:"xGrid",ref:t},d),{name_item:V((({data:e})=>[C(u,{modelValue:e.id,"onUpdate:modelValue":t=>e.id=t,clearable:"",placeholder:"请选择品牌名"},{default:V((()=>[(h(!0),g(_,null,w(r.value,((e,t)=>(h(),k(n,{key:t,label:e.deptName,value:e.id},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),province_item:V((({data:e})=>[C(u,{modelValue:e.province,"onUpdate:modelValue":t=>e.province=t,clearable:"",placeholder:"请选择省份",onChange:R},{default:V((()=>[(h(!0),g(_,null,w(l.value,((e,t)=>(h(),k(n,{key:t,label:e.areaName,value:e.areaCode},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),city_item:V((({data:e})=>[C(u,{modelValue:e.city,"onUpdate:modelValue":t=>e.city=t,clearable:"",placeholder:"请选择城市",onChange:U},{default:V((()=>[(h(!0),g(_,null,w(i.value,((e,t)=>(h(),k(n,{key:t,label:e.areaName,value:e.areaCode},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),district_item:V((({data:e})=>[C(u,{modelValue:e.district,"onUpdate:modelValue":t=>e.district=t,clearable:"",placeholder:"请选择区域"},{default:V((()=>[(h(!0),g(_,null,w(a.value,((e,t)=>(h(),k(n,{key:t,label:e.areaName,value:e.areaCode},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),district_edit:V((({row:e})=>[C(u,{modelValue:e.district,"onUpdate:modelValue":t=>e.district=t,clearable:"",placeholder:"请选择区域",onClick:I},{default:V((()=>[(h(!0),g(_,null,w(a.value,((e,t)=>(h(),k(n,{key:t,label:e.areaName,value:e.areaCode},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue"])])),submit_item:V((()=>[C(s,{content:"查询",status:"primary",type:"submit"})])),reset_item:V((()=>[C(s,{content:"重置",type:"reset"})])),_:1},16)])}}}))));var U;export{R as default};
