var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{a as d,s as i,bs as l,K as p,at as c,o as m,f as u,m as f,y as b,i as y,h,z as I,t as w,f6 as x,j}from"./index-d32d699d.js";import{T as v}from"./index-280a19eb.js";import{u as g,B as O}from"./useTable-ba3fb261.js";import"./useForm-39f6e704.js";import{f as P}from"./sysAreaApi-e41d1f2f.js";import{s as C}from"./index-2e5c6a76.js";const T=[{title:"区域编码",dataIndex:"areaCode",width:120},{title:"区域名称",dataIndex:"areaName",width:120},{title:"区域类型",dataIndex:"areaType",width:120},{title:"备注",dataIndex:"remarks",width:120},{title:"排序",dataIndex:"sort",width:120},{title:"创建时间",dataIndex:"createTime",width:160},{title:"更新时间",dataIndex:"updateTime",width:160}],_=[{field:"areaCode",label:"区域编码",component:"Input",componentProps:{placeholder:"请输入区域编码"}},{field:"areaName",label:"区域名称",component:"Input",componentProps:{placeholder:"请输入区域名称"}}],S=d({__name:"index",props:{nodeId:{type:String}},setup(e){const d=e,S=i([]);l((()=>{return e=this,t=null,a=function*(){S.value=yield C({dictCode:"sys_area_type"})},new Promise(((r,o)=>{var n=e=>{try{d(a.next(e))}catch(t){o(t)}},s=e=>{try{d(a.throw(e))}catch(t){o(t)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,s);d((a=a.apply(e,t)).next())}));var e,t,a}));const[k,{reload:B}]=g({title:"行政区域列表",api:P,rowKey:"areaCode",columns:T,formConfig:{baseColProps:{sm:24,lg:6},labelWidth:90,schemas:_,autoSubmitOnEnter:!0,resetButtonOptions:{preIcon:"ant-design:delete-outlined"},submitButtonOptions:{preIcon:"ant-design:search-outlined"}},showIndexColumn:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,beforeFetch:function(e){return i=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&s(e,a,t[a]);if(r)for(var a of r(t))n.call(t,a)&&s(e,a,t[a]);return e})({},e),l={parentCode:d.nodeId?d.nodeId:"0"},t(i,a(l));var i,l}});return p((()=>d.nodeId),(()=>{c((()=>{B()}))})),(e,t)=>(m(),u("div",null,[f(h(O),{onRegister:h(k)},{bodyCell:b((({column:e,record:t})=>["areaType"===e.key?(m(),y(h(v),{key:0,color:"processing"},{default:b((()=>[I(w(h(x)(S.value,t.areaType)),1)])),_:2},1024)):j("",!0)])),_:1},8,["onRegister"])]))}});export{S as _};
