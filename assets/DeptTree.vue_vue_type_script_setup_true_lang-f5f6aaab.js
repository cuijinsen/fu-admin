var e=(e,t,s)=>new Promise(((n,a)=>{var r=e=>{try{o(s.next(e))}catch(t){a(t)}},l=e=>{try{o(s.throw(e))}catch(t){a(t)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,l);o((s=s.apply(e,t)).next())}));import{_ as t}from"./index-5d4f29a6.js";import{s,a as n}from"./sysDeptApi-2c1e26d4.js";import{a,s as r,bs as l,r as o,o as d,f as i,m as u,h as c,eK as f}from"./index-d32d699d.js";const p={class:"bg-white m-4 mr-0 overflow-hidden"},m=a({__name:"DeptTree",emits:["select"],setup(a,{expose:m,emit:v}){const h=r([]),y=r();function x(){return e(this,null,(function*(){"1406955981362733058"!=o().getUserInfo.deptId?h.value=yield n({nodeId:o().getUserInfo.deptId,userId:o().getUserInfo.userId}):h.value=yield s()}))}function I(e,t){v("select",e[0])}function g(){return"ant-design:apartment-outlined"}return l((()=>{x()})),m({refresh:function(t){return e(this,null,(function*(){yield x();const e=t?[t]:[];y.value.setSelectedKeys(e);const s=f(h.value,t);y.value.setExpandedKeys(t?[...s,t]:[])}))}}),(e,s)=>(d(),i("div",p,[u(c(t),{ref_key:"treeRef",ref:y,clickRowToExpand:!1,defaultExpandAll:h.value.length>0,fieldNames:{key:"id",title:"name"},renderIcon:g,treeData:h.value,search:"",showIcon:"",title:"部门列表",toolbar:"",onSelect:I},null,8,["defaultExpandAll","treeData"])]))}});export{m as _};
