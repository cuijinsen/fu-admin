var f=(u,c,a)=>new Promise((n,r)=>{var s=t=>{try{o(a.next(t))}catch(e){r(e)}},i=t=>{try{o(a.throw(t))}catch(e){r(e)}},o=t=>t.done?n(t.value):Promise.resolve(t.value).then(s,i);o((a=a.apply(u,c)).next())});import{_ as d}from"./index.c7ad7d48.js";import{s as _}from"./sysDeptApi.78687c62.js";import{a as h,v as m,br as v,o as y,h as E,n as g,i as w,fA as x}from"./index.b74cf1bc.js";import"./fromPairs.84aabb58.js";import"./index.3b1d7b49.js";import"./eagerComputed.05d44b0c.js";import"./useContextMenu.d2657ca3.js";import"./index.76f0947d.js";import"./get.ef800ccd.js";const D={class:"bg-white m-4 mr-0 overflow-hidden"},M=h({__name:"DeptTree",emits:["select"],setup(u,{expose:c,emit:a}){const n=m([]),r=m();v(()=>{s()});function s(){return f(this,null,function*(){n.value=yield _()})}function i(e,l){a("select",e[0])}function o(e){return f(this,null,function*(){yield s();const l=e?[e]:[];r.value.setSelectedKeys(l);const p=x(n.value,e);r.value.setExpandedKeys(e?[...p,e]:[])})}function t(){return"ant-design:apartment-outlined"}return c({refresh:o}),(e,l)=>(y(),E("div",D,[g(w(d),{ref_key:"treeRef",ref:r,title:"\u90E8\u95E8\u5217\u8868",toolbar:"",search:"",treeData:n.value,clickRowToExpand:!1,fieldNames:{key:"id",title:"name"},showIcon:"",renderIcon:t,defaultExpandAll:n.value.length>0,onSelect:i},null,8,["treeData","defaultExpandAll"])]))}});export{M as default};
