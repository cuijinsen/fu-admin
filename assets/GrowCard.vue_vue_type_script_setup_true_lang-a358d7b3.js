var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,i=(e,t,a)=>new Promise(((l,o)=>{var s=e=>{try{i(a.next(e))}catch(t){o(t)}},n=e=>{try{i(a.throw(e))}catch(t){o(t)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(s,n);i((a=a.apply(e,t)).next())}));import{C as r}from"./index-bd009d9c.js";import{a as u,v as d,s as m,bs as c,r as v,K as p,o as f,f as y,F as b,aI as T,i as x,y as Y,m as j,h as C,z as g,t as h,b9 as w,l as D,p as H}from"./index-d32d699d.js";import{C as M}from"./index-d5b1635c.js";import"./index-80ea7d72.js";import"./index-cd646f4b.js";import{T as I}from"./index-280a19eb.js";import{s as O}from"./largeScreenApi-de23999b.js";import{b as V}from"./props-7f2f5d3a.js";import"./index-0a65f22b.js";const P=[{title:"创建数",icon:"visit-count|svg",value:1e4,total:12e4,color:"green",action:"日"},{title:"领取数",icon:"total-sales|svg",value:2e4,total:5e5,color:"blue",action:"日"},{title:"转化率",icon:"transaction|svg",value:5e3,total:5e4,color:"purple",action:"日"}],R={class:"md:flex"},k={key:0,class:"py-4 px-4 flex justify-between items-center"},_={key:1,class:"py-4 px-4 flex justify-between items-center"},z={key:2,class:"p-2 px-4 flex justify-between"},E={key:3,class:"p-2 px-4 flex justify-between"},U=u({__name:"GrowCard",props:(S=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&n(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&n(e,a,t[a]);return e})({},V),A={startTime:{type:Object},endTime:{type:Object}},t(S,a(A))),setup(e){const t=e,a=d(P),l=m(),o=m(!0);return c((()=>i(this,null,(function*(){l.value=yield O({deptId:v().getUserInfo.deptId,startTime:t.startTime?t.startTime.format("YYYY-MM-DD HH:mm:ss"):null,endTime:t.endTime?t.endTime.format("YYYY-MM-DD HH:mm:ss"):null}),a.forEach((e=>{"创建数"==e.title&&(e.total=l.value.allCount,e.value=l.value.allCountToday),"领取数"==e.title&&(e.total=l.value.payCount,e.value=l.value.payCountToday),"转化率"==e.title&&(e.total=l.value.conversionRate,e.value=l.value.conversionRateToday)})),o.value=!1})))),p((()=>t.startTime),(e=>i(this,null,(function*(){l.value=yield O({deptId:v().getUserInfo.deptId,startTime:e?e.format("YYYY-MM-DD HH:mm:ss"):null,endTime:t.endTime?t.endTime.format("YYYY-MM-DD HH:mm:ss"):null}),a.forEach((e=>{"创建数"==e.title&&(e.total=l.value.allCount,e.value=l.value.allCountToday),"领取数"==e.title&&(e.total=l.value.payCount,e.value=l.value.payCountToday),"转化率"==e.title&&(e.total=l.value.conversionRate,e.value=l.value.conversionRateToday)})),o.value=!1})))),p((()=>t.endTime),(e=>i(this,null,(function*(){l.value=yield O({deptId:v().getUserInfo.deptId,startTime:t.startTime?t.startTime.format("YYYY-MM-DD HH:mm:ss"):null,endTime:e?e.format("YYYY-MM-DD HH:mm:ss"):null}),a.forEach((e=>{"创建数"==e.title&&(e.total=l.value.allCount,e.value=l.value.allCountToday),"领取数"==e.title&&(e.total=l.value.payCount,e.value=l.value.payCountToday),"转化率"==e.title&&(e.total=l.value.conversionRate,e.value=l.value.conversionRateToday)})),o.value=!1})))),(e,t)=>(f(),y("div",R,[(f(!0),y(b,null,T(a,((e,t)=>(f(),x(C(M),{key:e.title,class:H([{"!md:mr-4":t+1<4,"!mt-4":t>0},"md:w-1/4 w-full !md:mt-0"]),loading:o.value,title:e.title,hoverable:"",size:"small"},{extra:Y((()=>[j(C(I),{color:e.color},{default:Y((()=>[g(h(e.action),1)])),_:2},1032,["color"])])),default:Y((()=>["转化率"!==e.title?(f(),y("div",k,[j(C(r),{endVal:e.value,class:"text-2xl"},null,8,["endVal"]),j(C(w),{icon:e.icon,size:40},null,8,["icon"])])):(f(),y("div",_,[j(C(r),{decimals:2,endVal:e.value,class:"text-2xl",suffix:"%"},null,8,["endVal"]),j(C(w),{icon:e.icon,size:40},null,8,["icon"])])),"转化率"!==e.title?(f(),y("div",z,[D("span",null,"总"+h(e.title),1),j(C(r),{endVal:e.total},null,8,["endVal"])])):(f(),y("div",E,[D("span",null,"总"+h(e.title),1),j(C(r),{decimals:2,endVal:e.total,suffix:"%"},null,8,["endVal"])]))])),_:2},1032,["class","loading","title"])))),128))]))}});var S,A;export{U as _};
