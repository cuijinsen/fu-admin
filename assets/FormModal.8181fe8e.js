var I=Object.defineProperty,_=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var g=(t,u,e)=>u in t?I(t,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[u]=e,d=(t,u)=>{for(var e in u||(u={}))v.call(u,e)&&g(t,e,u[e]);if(C)for(var e of C(u))M.call(u,e)&&g(t,e,u[e]);return t},m=(t,u)=>_(t,x(u));var f=(t,u,e)=>new Promise((r,n)=>{var c=s=>{try{l(e.next(s))}catch(i){n(i)}},p=s=>{try{l(e.throw(s))}catch(i){n(i)}},l=s=>s.done?r(s.value):Promise.resolve(s.value).then(c,p);l((e=e.apply(t,u)).next())});import{a as P,B as E}from"./index.8d73dc63.js";import{B as y}from"./BasicForm.1636ebdd.js";import{u as O}from"./useForm.454b56eb.js";import{a as j,f as k,i as a,v as B,o as N,j as R,z as S,n as T,aB as q,G as A}from"./index.b74cf1bc.js";import{s as L}from"./index.738e0162.js";import{v as V,a as G,e as U}from"./sysPostApi.c412fafb.js";const Z=[{title:"\u5C97\u4F4D\u540D\u79F0",dataIndex:"postName",width:150,align:"left"},{title:"\u5C97\u4F4D\u7F16\u7801",dataIndex:"postCode",width:150,align:"left"},{title:"\u6392\u5E8F",dataIndex:"sort",width:90},{title:"\u72B6\u6001",dataIndex:"status",width:80},{title:"\u5907\u6CE8",dataIndex:"remarks"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",width:160},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",width:160}],ee=[{field:"postName",label:"\u5C97\u4F4D\u540D\u79F0",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0"}},{field:"postCode",label:"\u5C97\u4F4D\u7F16\u7801",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801"}}],z=[{field:"postName",label:"\u5C97\u4F4D\u540D\u79F0",component:"Input",required:!0,componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",maxlength:100}},{field:"postCode",label:"\u5C97\u4F4D\u7F16\u7801",component:"Input",required:!0,componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",maxlength:100}},{field:"sort",label:"\u6392\u5E8F",component:"InputNumber",required:!0,defaultValue:"1",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u6392\u5E8F",min:1}},{field:"status",label:"\u72B6\u6001",component:"ApiRadioGroup",required:!0,componentProps:{api:L,params:{dictCode:"sys_status"}},defaultValue:"0"},{label:"\u5907\u6CE8",field:"remarks",component:"InputTextArea",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",maxlength:500}}],W=j({__name:"FormModal",emits:["success","register"],setup(t,{emit:u}){const e=k(()=>a(r)?"\u7F16\u8F91\u5C97\u4F4D":"\u65B0\u589E\u5C97\u4F4D"),r=B(!1),n=B(),{createMessage:c}=A(),[p,{setFieldsValue:l,resetFields:s,validate:i}]=O({labelWidth:100,schemas:z,showActionButtonGroup:!1,actionColOptions:{span:23},baseColProps:{span:24}}),[D,{setModalProps:F,closeModal:b}]=P(o=>f(this,null,function*(){if(yield s(),F({confirmLoading:!1}),r.value=!!(o!=null&&o.isUpdate),a(r)){n.value=o.record.id;const h=yield V({id:o.record.id});yield l(d({},h))}}));function w(){return f(this,null,function*(){try{const o=yield i();F({confirmLoading:!0}),a(r)?yield U(m(d({},o),{id:n.value})):yield G(d({},o)),a(r)?c.success("\u7F16\u8F91\u6210\u529F\uFF01"):c.success("\u65B0\u589E\u6210\u529F\uFF01"),b(),u("success",{isUpdate:a(r),values:m(d({},o),{id:n.value})})}finally{F({confirmLoading:!1})}})}return(o,h)=>(N(),R(a(E),q(o.$attrs,{destroyOnClose:"",onRegister:a(D),title:a(e),onOk:w}),{default:S(()=>[T(a(y),{onRegister:a(p)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});var ue=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{ue as F,W as _,Z as c,ee as s};
