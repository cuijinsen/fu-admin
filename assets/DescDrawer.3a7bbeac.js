var b=Object.defineProperty,g=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var m=(t,u,e)=>u in t?b(t,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[u]=e,B=(t,u)=>{for(var e in u||(u={}))I.call(u,e)&&m(t,e,u[e]);if(p)for(var e of p(u))_.call(u,e)&&m(t,e,u[e]);return t},f=(t,u)=>g(t,w(u));var C=(t,u,e)=>new Promise((o,r)=>{var n=l=>{try{a(e.next(l))}catch(c){r(c)}},s=l=>{try{a(e.throw(l))}catch(c){r(c)}},a=l=>l.done?o(l.value):Promise.resolve(l.value).then(n,s);a((e=e.apply(t,u)).next())});import{a as E,B as x}from"./index.4d10e6e7.js";import{D as y}from"./index.165cd237.js";import{s as d}from"./index.80508645.js";import{dK as h,a as P,v as F,br as S,fB as D,o as A,j as v,z as q,n as M,i,aB as T}from"./index.67a988db.js";import{u as L}from"./useDescription.467bb03b.js";const H=[{title:"\u64CD\u4F5C\u6A21\u5757",dataIndex:"logModule",width:100},{title:"\u64CD\u4F5C\u5185\u5BB9",dataIndex:"logTitle",width:150},{title:"\u65E5\u5FD7\u72B6\u6001",dataIndex:"logStatus",width:120},{title:"\u7528\u6237\u5E73\u53F0",dataIndex:"userPlatform",width:120},{title:"\u8BF7\u6C42\u5730\u5740",dataIndex:"requsetUri",width:200},{title:"\u8BF7\u6C42\u65B9\u5F0F",dataIndex:"requsetType",width:120},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"requsetMethod",width:200},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requsetParams",width:200},{title:"\u8BF7\u6C42\u8017\u65F6",dataIndex:"requsetTime",width:120},{title:"\u64CD\u4F5C\u4EBA\u5458",dataIndex:"operName",width:120},{title:"IP\u5730\u5740",dataIndex:"ipAddress",width:120},{title:"\u64CD\u4F5C\u5730\u70B9",dataIndex:"operLocation",width:150},{title:"\u6D4F\u89C8\u5668\u7C7B\u578B",dataIndex:"browser",width:150},{title:"\u64CD\u4F5C\u7CFB\u7EDF",dataIndex:"os",width:300},{title:"\u5907\u6CE8",dataIndex:"remarks",width:120},{title:"\u64CD\u4F5C\u65F6\u95F4",dataIndex:"createTime",width:160}],K=[{field:"logModule",label:"\u64CD\u4F5C\u6A21\u5757",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u64CD\u4F5C\u6A21\u5757"}},{field:"logTitle",label:"\u64CD\u4F5C\u5185\u5BB9",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u64CD\u4F5C\u5185\u5BB9"}},{field:"logStatus",label:"\u65E5\u5FD7\u72B6\u6001",component:"ApiSelect",componentProps:{placeholder:"\u8BF7\u9009\u62E9\u65E5\u5FD7\u72B6\u6001",api:d,params:{dictCode:"sys_log_status"}}},{field:"userPlatform",label:"\u7528\u6237\u5E73\u53F0",component:"ApiSelect",componentProps:{placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u5E73\u53F0",api:d,params:{dictCode:"sys_user_platform"}}},{field:"operName",label:"\u64CD\u4F5C\u4EBA\u5458",component:"Input",componentProps:{placeholder:"\u8BF7\u8F93\u5165\u64CD\u4F5C\u4EBA\u5458"}}],O=[{field:"logModule",label:"\u64CD\u4F5C\u6A21\u5757",labelMinWidth:80},{field:"logTitle",label:"\u64CD\u4F5C\u5185\u5BB9",labelMinWidth:80},{field:"logStatusDesc",label:"\u65E5\u5FD7\u72B6\u6001"},{field:"userPlatformDesc",label:"\u7528\u6237\u5E73\u53F0"},{field:"requsetUri",label:"\u8BF7\u6C42\u5730\u5740"},{field:"requsetType",label:"\u8BF7\u6C42\u65B9\u5F0F"},{field:"requsetMethod",label:"\u8BF7\u6C42\u65B9\u6CD5"},{field:"requsetParams",label:"\u8BF7\u6C42\u53C2\u6570"},{field:"requsetTime",label:"\u8BF7\u6C42\u8017\u65F6"},{field:"operName",label:"\u64CD\u4F5C\u4EBA\u5458"},{field:"ipAddress",label:"IP\u5730\u5740"},{field:"operLocation",label:"\u64CD\u4F5C\u5730\u70B9"},{field:"browser",label:"\u6D4F\u89C8\u5668\u7C7B\u578B"},{field:"os",label:"\u64CD\u4F5C\u7CFB\u7EDF"},{field:"remarks",label:"\u5907\u6CE8"},{field:"createTime",label:"\u64CD\u4F5C\u65F6\u95F4"}];function $(t){return h.get({url:"/system/sysLog/selectSysLogWithPage",params:t})}function j(t){return h.get({url:"/system/sysLog/getSysLog",params:t})}const k=P({__name:"DescDrawer",setup(t){const u=F(),e=F([]),o=F([]);S(()=>C(this,null,function*(){e.value=yield d({dictCode:"sys_log_status"}),o.value=yield d({dictCode:"sys_user_platform"})}));const[r]=E(s=>C(this,null,function*(){const a=yield j({id:s.record.id});u.value=f(B({},a),{logStatusDesc:D(e.value,a.logStatus),userPlatformDesc:D(o.value,a.userPlatform)})})),[n]=L({schema:O,column:2,labelStyle:{width:"120px"}});return(s,a)=>(A(),v(i(x),T(s.$attrs,{onRegister:i(r),title:"\u64CD\u4F5C\u65E5\u5FD7\u8BE6\u60C5",width:"60%"}),{default:q(()=>[M(i(y),{onRegister:i(n),data:u.value},null,8,["onRegister","data"])]),_:1},16,["onRegister"]))}});var G=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));export{G as D,k as _,H as c,$ as f,K as s};
