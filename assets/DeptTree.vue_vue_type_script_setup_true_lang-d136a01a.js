var e=(e,t,s)=>new Promise(((n,a)=>{var r=e=>{try{d(s.next(e))}catch(t){a(t)}},o=e=>{try{d(s.throw(e))}catch(t){a(t)}},d=e=>e.done?n(e.value):Promise.resolve(e.value).then(r,o);d((s=s.apply(e,t)).next())}));import{_ as t}from"./index-5d4f29a6.js";import{s,a as n}from"./sysDeptApi-2c1e26d4.js";import{a,s as r,bs as o,r as d,o as i,f as l,m as c,h as u,eK as f}from"./index-d32d699d.js";const m={class:"bg-white m-4 mr-0 overflow-hidden"},p=a({__name:"DeptTree",emits:["select"],setup(a,{expose:p,emit:v}){const h=r([]),y=r();function I(){return e(this,null,(function*(){"1406955981362733058"!=d().getUserInfo.deptId?h.value=yield n({nodeId:d().getUserInfo.deptId,userId:d().getUserInfo.userId}):h.value=yield s()}))}function x(e,t){v("select",e[0])}function w(){return"ant-design:apartment-outlined"}return o((()=>{I()})),p({refresh:function(t){return e(this,null,(function*(){yield I();const e=t?[t]:[];y.value.setSelectedKeys(e);const s=f(h.value,t);y.value.setExpandedKeys(t?[...s,t]:[])}))}}),(e,s)=>(i(),l("div",m,[c(u(t),{ref_key:"treeRef",ref:y,clickRowToExpand:!1,fieldNames:{key:"id",title:"name"},renderIcon:w,treeData:h.value,search:"",showIcon:"",title:"商家列表",toolbar:"",onSelect:x},null,8,["treeData"])]))}});export{p as _};
