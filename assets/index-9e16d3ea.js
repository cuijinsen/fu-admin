import{a as e,s,bs as t,o,f as i,m as r,y as a,i as n,h as d,z as m,t as p,f6 as c,j as l,F as u}from"./index-d32d699d.js";import{T as f}from"./index-280a19eb.js";import{u as j,B as x}from"./useTable-ba3fb261.js";import{T as b}from"./useForm-39f6e704.js";import{a as y}from"./index-35313998.js";import{f as g,c as _,s as h,_ as v}from"./DescDrawer.vue_vue_type_script_setup_true_lang-f46efa4f.js";import{s as w}from"./index-2e5c6a76.js";import"./index-428eee78.js";import"./eagerComputed-b16e681c.js";import"./css-49036a2d.js";import"./fromPairs-c5e23fef.js";import"./iconUtil-b885d1ac.js";import"./index-22735145.js";import"./index-e84e313c.js";import"./createForOfIteratorHelper-19a6e609.js";import"./index-da1a1de3.js";import"./index-64da741e.js";import"./scrollTo-7d931d9a.js";import"./index-ceb1e509.js";import"./index-e9d5eda1.js";import"./index-2887dac0.js";import"./useSize-e28be3fa.js";import"./useWindowSizeFn-6acabc85.js";import"./useContentViewHeight-295eef1a.js";import"./ArrowLeftOutlined-f42bc447.js";import"./index-9c0d62a6.js";import"./transButton-c20bc4d9.js";import"./index-706c8391.js";import"./index-bf8f159c.js";import"./index-ee500efb.js";import"./get-8e454bdf.js";import"./index-b361c612.js";import"./FullscreenOutlined-091fbcf5.js";import"./index-b4d18824.js";import"./sortable.esm-871e648d.js";import"./RedoOutlined-481f10d7.js";import"./index-a72363e5.js";import"./index-f7867750.js";import"./index-6cd0fcd2.js";import"./index-06c8a48f.js";import"./index-cd646f4b.js";import"./_baseIteratee-b178d67d.js";import"./index-fe305bf5.js";import"./index-476a8598.js";import"./useRefs-b0536d84.js";import"./download-29600a9b.js";import"./index-406c2228.js";import"./index-8e2feec8.js";import"./uniqBy-19fec0f2.js";import"./index-41a26491.js";import"./index-6d58fe5a.js";import"./index-b0cc5f6c.js";const C=e({__name:"index",setup(e){const C=s([]),k=s([]);t((()=>{return e=this,s=null,t=function*(){C.value=yield w({dictCode:"sys_log_status"}),k.value=yield w({dictCode:"sys_user_platform"})},new Promise(((o,i)=>{var r=e=>{try{n(t.next(e))}catch(s){i(s)}},a=e=>{try{n(t.throw(e))}catch(s){i(s)}},n=e=>e.done?o(e.value):Promise.resolve(e.value).then(r,a);n((t=t.apply(e,s)).next())}));var e,s,t}));const[S]=j({title:"操作日志列表",api:g,rowKey:"id",columns:_,formConfig:{baseColProps:{sm:24,lg:6},labelWidth:90,schemas:h,autoSubmitOnEnter:!0,resetButtonOptions:{preIcon:"ant-design:delete-outlined"},submitButtonOptions:{preIcon:"ant-design:search-outlined"}},showIndexColumn:!1,useSearchForm:!0,showTableSetting:!0,bordered:!0,actionColumn:{auth:["system:sysLog:view"],width:50,title:"操作",dataIndex:"action"}}),[T,{openDrawer:O}]=y();function P(e){O(!0,{record:e})}return(e,s)=>(o(),i("div",null,[r(d(x),{onRegister:d(S)},{bodyCell:a((({column:e,record:s})=>["logStatus"===e.key?(o(),n(d(f),{key:0,color:"0"===s.logStatus?"processing":"error"},{default:a((()=>[m(p(d(c)(C.value,s.logStatus)),1)])),_:2},1032,["color"])):l("",!0),"userPlatform"===e.key?(o(),n(d(f),{key:1,color:"WEB"===s.userPlatform?"processing":"error"},{default:a((()=>[m(p(d(c)(k.value,s.userPlatform)),1)])),_:2},1032,["color"])):l("",!0),"requsetTime"===e.key?(o(),i(u,{key:2},[m(p(s.requsetTime&&(null==s?void 0:s.requsetTime)+"ms"),1)],64)):l("",!0),"action"===e.key?(o(),n(d(b),{key:3,actions:[{auth:"system:sysLog:view",icon:"ant-design:eye-twotone",tooltip:"查看",onClick:P.bind(null,s)}]},null,8,["actions"])):l("",!0)])),_:1},8,["onRegister"]),r(v,{onRegister:d(T)},null,8,["onRegister"])]))}});export{C as default};
