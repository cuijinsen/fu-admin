import{a,V as e,m as t,T as n,W as l,s as i,Q as o,$ as r,cn as u,_ as c,R as v,S as s,d0 as d,cP as m,O as p,a1 as f,bG as g,e as y,a4 as h,K as S,a8 as x,c$ as b,a5 as C,d1 as M,b4 as I}from"./index-d32d699d.js";import{C as L,R as z}from"./index-cd646f4b.js";import{e as j}from"./eagerComputed-b16e681c.js";const O=a({compatConfig:{MODE:3},name:"AListItemMeta",props:{avatar:n.any,description:n.any,prefixCls:String,title:n.any},displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(a,n){var l=n.slots,i=e("list",a).prefixCls;return function(){var e,n,o,r,u,c,v="".concat(i.value,"-item-meta"),s=null!==(e=a.title)&&void 0!==e?e:null===(n=l.title)||void 0===n?void 0:n.call(l),d=null!==(o=a.description)&&void 0!==o?o:null===(r=l.description)||void 0===r?void 0:r.call(l),m=null!==(u=a.avatar)&&void 0!==u?u:null===(c=l.avatar)||void 0===c?void 0:c.call(l),p=t("div",{class:"".concat(i.value,"-item-meta-content")},[s&&t("h4",{class:"".concat(i.value,"-item-meta-title")},[s]),d&&t("div",{class:"".concat(i.value,"-item-meta-description")},[d])]);return t("div",{class:v},[m&&t("div",{class:"".concat(i.value,"-item-meta-avatar")},[m]),(s||d)&&p])}}});var A=Symbol("ListContextKey"),k=["class"];const w=a({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:O,props:{prefixCls:String,extra:n.any,actions:n.array,grid:Object,colStyle:{type:Object,default:void 0}},slots:["actions","extra"],setup:function(a,n){var p=n.slots,f=n.attrs,g=l(A,{grid:i(),itemLayout:i()}),y=g.itemLayout,h=g.grid,S=e("list",a).prefixCls,x=function(){var e,t,n,l,i,o=null!==(e=a.extra)&&void 0!==e?e:null===(t=p.extra)||void 0===t?void 0:t.call(p);return"vertical"===y.value?!!o:((i=(null===(n=p.default)||void 0===n?void 0:n.call(p))||[]).forEach((function(a){d(a)&&!m(a)&&(l=!0)})),!(l&&i.length>1))};return function(){var e,n,l,i,d,m=f.class,g=o(f,k),b=S.value,C=null!==(e=a.extra)&&void 0!==e?e:null===(n=p.extra)||void 0===n?void 0:n.call(p),M=null===(l=p.default)||void 0===l?void 0:l.call(p),I=null!==(i=a.actions)&&void 0!==i?i:r(null===(d=p.actions)||void 0===d?void 0:d.call(p)),z=(I=I&&!Array.isArray(I)?[I]:I)&&I.length>0&&t("ul",{class:"".concat(b,"-item-action"),key:"actions"},[I.map((function(a,e){return t("li",{key:"".concat(b,"-item-action-").concat(e)},[a,e!==I.length-1&&t("em",{class:"".concat(b,"-item-action-split")},null)])}))]),j=h.value?"div":"li",O=t(j,c(c({},g),{},{class:v("".concat(b,"-item"),s({},"".concat(b,"-item-no-flex"),!x()),m)}),{default:function(){return["vertical"===y.value&&C?[t("div",{class:"".concat(b,"-item-main"),key:"content"},[M,z]),t("div",{class:"".concat(b,"-item-extra"),key:"extra"},[C])]:[M,z,u(C,{key:"extra"})]]}});return h.value?t(L,{flex:1,style:a.colStyle},{default:function(){return[O]}}):O}}});var E=a({compatConfig:{MODE:3},name:"AList",Item:w,props:p({bordered:{type:Boolean,default:void 0},dataSource:n.array,extra:n.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:n.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:Function,size:String,split:{type:Boolean,default:void 0},header:n.any,footer:n.any,locale:{type:Object}},{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(a,n){var l,o,u=n.slots;f(A,{grid:g(a,"grid"),itemLayout:g(a,"itemLayout")});var v={current:1,total:0},d=e("list",a),m=d.prefixCls,p=d.direction,L=d.renderEmpty,O=y((function(){return a.pagination&&"object"===h(a.pagination)?a.pagination:{}})),k=i(null!==(l=O.value.defaultCurrent)&&void 0!==l?l:1),w=i(null!==(o=O.value.defaultPageSize)&&void 0!==o?o:10);S(O,(function(){"current"in O.value&&(k.value=O.value.current),"pageSize"in O.value&&(w.value=O.value.pageSize)}));var E=[],K=function(a){return function(e,t){k.value=e,w.value=t,O.value[a]&&O.value[a](e,t)}},T=K("onChange"),_=K("onShowSizeChange"),B=y((function(){return"boolean"==typeof a.loading?{spinning:a.loading}:a.loading})),D=y((function(){return B.value&&B.value.spinning})),N=y((function(){var e="";switch(a.size){case"large":e="lg";break;case"small":e="sm"}return e})),F=y((function(){var e;return s(e={},"".concat(m.value),!0),s(e,"".concat(m.value,"-vertical"),"vertical"===a.itemLayout),s(e,"".concat(m.value,"-").concat(N.value),N.value),s(e,"".concat(m.value,"-split"),a.split),s(e,"".concat(m.value,"-bordered"),a.bordered),s(e,"".concat(m.value,"-loading"),D.value),s(e,"".concat(m.value,"-grid"),!!a.grid),s(e,"".concat(m.value,"-rtl"),"rtl"===p.value),e})),P=y((function(){var e=c(c({},v),{},{total:a.dataSource.length,current:k.value,pageSize:w.value},a.pagination||{}),t=Math.ceil(e.total/e.pageSize);return e.current>t&&(e.current=t),e})),R=y((function(){var e=x(a.dataSource);return a.pagination&&a.dataSource.length>(P.value.current-1)*P.value.pageSize&&(e=x(a.dataSource).splice((P.value.current-1)*P.value.pageSize,P.value.pageSize)),e})),W=b(),$=j((function(){for(var a=0;a<C.length;a+=1){var e=C[a];if(W.value[e])return e}})),G=y((function(){if(a.grid){var e=$.value&&a.grid[$.value]?a.grid[$.value]:a.grid.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}));return function(){var e,n,l,i,o,v,d,p,f,g=null!==(e=a.loadMore)&&void 0!==e?e:null===(n=u.loadMore)||void 0===n?void 0:n.call(u),y=null!==(l=a.footer)&&void 0!==l?l:null===(i=u.footer)||void 0===i?void 0:i.call(u),S=null!==(o=a.header)&&void 0!==o?o:null===(v=u.header)||void 0===v?void 0:v.call(u),x=r(null===(d=u.default)||void 0===d?void 0:d.call(u)),b=!!(g||a.pagination||y),C=c(c({},F.value),{},s({},"".concat(m.value,"-something-after-last-item"),b)),j=a.pagination?t("div",{class:"".concat(m.value,"-pagination")},[t(M,c(c({},P.value),{},{onChange:T,onShowSizeChange:_}),null)]):null,O=D.value&&t("div",{style:{minHeight:"53px"}},null);if(R.value.length>0){E.length=0;var A=R.value.map((function(e,t){return function(e,t){var n,l,i=null!==(n=a.renderItem)&&void 0!==n?n:u.renderItem;if(!i)return null;var o=h(a.rowKey);return(l="function"===o?a.rowKey(e):"string"===o||"number"===o?e[a.rowKey]:e.key)||(l="list-item-".concat(t)),E[t]=l,i({item:e,index:t})}(e,t)})),k=A.map((function(a,e){return t("div",{key:E[e],style:G.value},[a])}));O=a.grid?t(z,{gutter:a.grid.gutter},{default:function(){return[k]}}):t("ul",{class:"".concat(m.value,"-items")},[A])}else x.length||D.value||(p=L.value,O=t("div",{class:"".concat(m.value,"-empty-text")},[(null===(f=a.locale)||void 0===f?void 0:f.emptyText)||p("List")]));var w=P.value.position||"bottom";return t("div",{class:C},[("top"===w||"both"===w)&&j,S&&t("div",{class:"".concat(m.value,"-header")},[S]),t(I,B.value,{default:function(){return[O,x]}}),y&&t("div",{class:"".concat(m.value,"-footer")},[y]),g||("bottom"===w||"both"===w)&&j])}}});E.install=function(a){return a.component(E.name,E),a.component(E.Item.name,E.Item),a.component(E.Item.Meta.name,E.Item.Meta),a};const K=E;export{K as L};
