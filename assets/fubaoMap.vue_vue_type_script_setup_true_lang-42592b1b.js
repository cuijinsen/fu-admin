var a=(a,e,t)=>new Promise(((o,n)=>{var r=a=>{try{l(t.next(a))}catch(e){n(e)}},i=a=>{try{l(t.throw(a))}catch(e){n(e)}},l=a=>a.done?o(a.value):Promise.resolve(a.value).then(r,i);l((t=t.apply(a,e)).next())}));import{a as e,s as t,bs as o,J as n,bv as r,r as i,K as l,aF as s,o as u,f as m,l as p,bp as c,m as d,y as f,z as v}from"./index-d32d699d.js";import{u as h,r as y}from"./useECharts-8dd670ef.js";import{m as b}from"./shandongData-27206427.js";import"./index-071e5974.js";import{c as C}from"./largeScreenApi-de23999b.js";const g={class:"relative"},S=e({__name:"fubaoMap",props:{width:{type:String,default:"100%"},height:{type:String,default:"calc(100vh - 80px)"},startTime:{type:Object},endTime:{type:Object}},setup(e){const S=e;let D=t();const A=t(null),{getInstance:T}=h(A);o((()=>a(this,null,(function*(){yield F()})))),n((()=>a(this,null,(function*(){var a;const e=yield r((()=>import("./shandong-6ac9f2bc.js")),[]);y("shandong",e),yield F(),null==(a=T())||a.setOption({visualMap:[{min:0,max:1e3,left:"left",top:"bottom",text:["高","低"],calculable:!0,orient:"horizontal",inRange:{color:["#e0ffff","#006edd"],symbolSize:[30,100]}}],tooltip:{trigger:"item",backgroundColor:"rgba(0, 0, 0, .6)",textStyle:{color:"#fff",fontSize:12},formatter:function(a){let e="";for(let t=0;t<b.length;t++)if(a.name==b[t].name){e+=b[t].name+":<br>";for(let a=0;a<b[t].value.length;a++)e+=2==a||5==a?b[t].value[a].name+":"+b[t].value[a].value.toFixed(2)+"%<br>":b[t].value[a].name+":"+b[t].value[a].value+"<br>"}return e}},series:[{name:"领取人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:x},{name:"创建人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:z},{name:"领取转化率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:w},{name:"领取总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:U},{name:"创建总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:k},{name:"总转换率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:_}]},!0)}))));let x=[],z=[],w=[],U=[],k=[],_=[];function F(){return a(this,null,(function*(){D.value=yield C({deptId:i().getUserInfo.deptId,startTime:S.startTime?S.startTime.format("YYYY-MM-DD HH:mm:ss"):null,endTime:S.endTime?S.endTime.format("YYYY-MM-DD HH:mm:ss"):null}),x=[],z=[],w=[],U=[],k=[],_=[],b.forEach((a=>{D.value.forEach((e=>{a.name===e.city&&(a.value[0].value=e.payCountToday,a.value[1].value=e.allCountToday,a.value[2].value=e.conversionRateToday,a.value[3].value=e.payCount,a.value[4].value=e.allCount,a.value[5].value=e.conversionRate)})),x.push({name:a.name,value:a.value[0].value}),z.push({name:a.name,value:a.value[1].value}),w.push({name:a.name,value:a.value[2].value}),U.push({name:a.name,value:a.value[3].value}),k.push({name:a.name,value:a.value[4].value}),_.push({name:a.name,value:a.value[5].value})}))}))}const M={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},xAxis:{type:"value"},yAxis:{type:"category",axisLabel:{rotate:30},data:b.map((function(a){return a.name}))},animationDurationUpdate:1e3,series:[{name:"领取人数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[0].value})),universalTransition:!0},{name:"创建人数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[1].value})),universalTransition:!0},{name:"领取转化率",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[2].value})),universalTransition:!0},{name:"领取总数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[3].value})),universalTransition:!0},{name:"创建总数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[4].value})),universalTransition:!0},{name:"总转换率",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[5].value})),universalTransition:!0}]},j={visualMap:[{min:0,max:1e3,left:"left",top:"bottom",text:["高","低"],calculable:!0,orient:"horizontal",inRange:{color:["#e0ffff","#006edd"],symbolSize:[30,100]}}],tooltip:{trigger:"item",backgroundColor:"rgba(0, 0, 0, .6)",textStyle:{color:"#fff",fontSize:12},formatter:function(a){let e="";for(let t=0;t<b.length;t++)if(a.name==b[t].name){e+=b[t].name+":<br>";for(let a=0;a<b[t].value.length;a++)e+=2==a||5==a?b[t].value[a].name+":"+b[t].value[a].value.toFixed(2)+"%<br>":b[t].value[a].name+":"+b[t].value[a].value+"<br>"}return e}},series:[{name:"领取人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:x},{name:"创建人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:z},{name:"领取转化率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:w},{name:"领取总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:U},{name:"创建总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:k},{name:"总转换率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:_}]};let O=j;function R(){return a(this,null,(function*(){var a,e;O=O===j?M:j,O===M?(yield F(),null==(a=T())||a.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},xAxis:{type:"value"},yAxis:{type:"category",axisLabel:{rotate:30},data:b.map((function(a){return a.name}))},animationDurationUpdate:1e3,series:[{name:"领取人数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[0].value})),universalTransition:!0},{name:"创建人数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[1].value})),universalTransition:!0},{name:"领取转化率",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[2].value.toFixed(2)+"%"})),universalTransition:!0},{name:"领取总数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[3].value})),universalTransition:!0},{name:"创建总数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[4].value})),universalTransition:!0},{name:"总转换率",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[5].value.toFixed(2)+"%"})),universalTransition:!0}]},!0)):(yield F(),null==(e=T())||e.setOption({visualMap:[{min:0,max:1e3,left:"left",top:"bottom",text:["高","低"],calculable:!0,orient:"horizontal",inRange:{color:["#e0ffff","#006edd"],symbolSize:[30,100]}}],tooltip:{trigger:"item",backgroundColor:"rgba(0, 0, 0, .6)",textStyle:{color:"#fff",fontSize:12},formatter:function(a){let e="";for(let t=0;t<b.length;t++)if(a.name==b[t].name){e+=b[t].name+":<br>";for(let a=0;a<b[t].value.length;a++)e+=2==a||5==a?b[t].value[a].name+":"+b[t].value[a].value.toFixed(2)+"%<br>":b[t].value[a].name+":"+b[t].value[a].value+"<br>"}return e}},series:[{name:"领取人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:x},{name:"创建人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:z},{name:"领取转化率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:w},{name:"领取总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:U},{name:"创建总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:k},{name:"总转换率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:_}]},!0))}))}function Y(){return a(this,null,(function*(){var a,e;O===M?(yield F(),null==(a=T())||a.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},xAxis:{type:"value"},yAxis:{type:"category",axisLabel:{rotate:30},data:b.map((function(a){return a.name}))},animationDurationUpdate:1e3,series:[{name:"领取人数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[0].value})),universalTransition:!0},{name:"创建人数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[1].value})),universalTransition:!0},{name:"领取转化率",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[2].value.toFixed(2)+"%"})),universalTransition:!0},{name:"领取总数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[3].value})),universalTransition:!0},{name:"创建总数",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[4].value})),universalTransition:!0},{name:"总转换率",type:"bar",stack:"total",emphasis:{focus:"series"},data:b.map((function(a){return a.value[5].value.toFixed(2)+"%"})),universalTransition:!0}]},!0)):(yield F(),null==(e=T())||e.setOption({visualMap:[{min:0,max:1e3,left:"left",top:"bottom",text:["高","低"],calculable:!0,orient:"horizontal",inRange:{color:["#e0ffff","#006edd"],symbolSize:[30,100]}}],tooltip:{trigger:"item",backgroundColor:"rgba(0, 0, 0, .6)",textStyle:{color:"#fff",fontSize:12},formatter:function(a){let e="";for(let t=0;t<b.length;t++)if(a.name==b[t].name){e+=b[t].name+":<br>";for(let a=0;a<b[t].value.length;a++)e+=2==a||5==a?b[t].value[a].name+":"+b[t].value[a].value.toFixed(2)+"%<br>":b[t].value[a].name+":"+b[t].value[a].value+"<br>"}return e}},series:[{name:"领取人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:x},{name:"创建人数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:z},{name:"领取转化率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:w},{name:"领取总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:U},{name:"创建总数",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:k},{name:"总转换率",type:"map",roam:!0,map:"shandong",animationDurationUpdate:1e3,universalTransition:!0,label:{show:!0,color:"#1a202c",fontSize:12},itemStyle:{areaColor:"#2f82ce",borderColor:"#0DAAC1"},data:_}]},!0))}))}return l((()=>S.startTime),(()=>{Y()})),l((()=>S.endTime),(()=>{Y()})),(a,t)=>{const o=s("a-button");return u(),m("div",g,[p("div",{ref_key:"chartRef",ref:A,style:c({height:e.height,width:e.width})},null,4),d(o,{shape:"round",onClick:R},{default:f((()=>[v("切换样式")])),_:1})])}}});export{S as _};
